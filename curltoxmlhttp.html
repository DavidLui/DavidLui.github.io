<html>
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<link href="https://v4-alpha.getbootstrap.com/examples/cover/cover.css" rel="stylesheet">
      </head>

<body>
<div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">Curl to XMLHttpRequest</h3>
              <nav class="nav nav-masthead">
                <a class="nav-link active" href="#">Home</a>
              </nav>
            </div>
          </div>

          <div class="inner cover">
                <h1>Convert from Curl to XMLHttpRequest</h1>
            <form>
             <br>
              <div class="form-group">
                <label for="exampleTextarea">Enter Curl</label>
                <textarea class="form-control" id="exampleTextarea" rows="3"></textarea>
              </div>
              
              <div class="form-group">
                <label for="exampleTextarea">XMLHttpRequest Output</label>
                <textarea class="form-control" id="exampleTextarea" rows="3"></textarea>
              </div>

              <button type="submit" class="btn btn-primary">Convert</button>
            </form>
            </div>
          </div>

          <div class="mastfoot">
            <div class="inner">
              <p>David Lui 2018</p>
            </div>
          </div>

        </div>

      </div>

    </div>

</body>
<script>
      var str = 'curl "https://v4-alpha.getbootstrap.com/assets/js/vendor/jekyll-search.min.js" -H "pragma: no-cache" -H "cookie: __cfduid=d2ceb118c625cf52"3c60fc2be472b2eb41516890589; _ga=GA1.2.337516088.1516890589; _gid=GA1.2.1763379525.1516890589" -H "dnt: 1" -H "accept-encoding: gzip, deflate, br" -H "accept-language: en-US,en;q=0.9" -H "user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36" -H "accept: */*" -H "cache-control: no-cache" -H "authority: v4-alpha.getbootstrap.com" -H "referer: https://v4-alpha.getbootstrap.com/components/forms/"'
      var url = (/(http.*?)"\B/).exec(str)[1];
      var headers = str.match(/-H ".*?"\B/g);
      //form or type
      var xmlRequestStringBegin = "var xhttp = new XMLHttpRequest();xhttp.open("GET", +\"" url + "\", true);"
      var xmlRequestStringEnd = "xhttp.send();"
      for (var i = 0; i < headers.length; i++) {
            var h1 = /-H\s\"(.*?)\:\s(.*?)\"$/.exec(headers[1])[1];
            var h2 = /-H\s\"(.*?)\:\s(.*?)\"$/.exec(headers[1])[2];
            var head = "xhttp.setRequestHeader(" + h1 + ",\"" + h2 + "\");";
            xmlRequestStringBegin += head;
      }
      var finalString = xmlRequestStringBegin + xmlRequestStringEnd;
</script>
</html>
